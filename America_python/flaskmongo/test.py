#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time : 2019/9/5 17:26
# @Author : chenxin
# @Site : 
# @File : test.py
# @Software: PyCharm
from pymongo import  MongoClient #mongo连接助手
import json #json转换格式

jsonData = "[{ 'num': 0, 'AE3S': 385, 'update_time': '2019-08-14 00:00:31' }, { 'num': 1, 'AE3S': 350, 'update_time': '2019-08-14 01:01:21' }, { 'num': 2, 'AE3S': 243, 'update_time': '2019-08-14 02:00:12' }, { 'num': 3, 'AE3S': 349, 'update_time': '2019-08-14 03:01:08' }, { 'num': 4, 'AE3S': 373, 'update_time': '2019-08-14 04:01:29' }, { 'num': 5, 'AE3S': 173, 'update_time': '2019-08-14 05:01:16' }, { 'num': 6, 'AE3S': 134, 'update_time': '2019-08-14 06:01:20' }, { 'num': 7, 'AE3S': 247, 'update_time': '2019-08-14 07:00:25' }, { 'num': 8, 'AE3S': 211, 'update_time': '2019-08-14 08:00:21' }, { 'num': 9, 'AE3S': 403, 'update_time': '2019-08-14 09:00:06' }, { 'num': 10, 'AE3S': 260, 'update_time': '2019-08-14 10:00:15' }, { 'num': 11, 'AE3S': 265, 'update_time': '2019-08-14 11:00:09' }, { 'num': 12, 'AE3S': 279, 'update_time': '2019-08-14 12:01:10' }, { 'num': 13, 'AE3S': 292, 'update_time': '2019-08-14 13:01:20' }, { 'num': 14, 'AE3S': 285, 'update_time': '2019-08-14 14:00:40' }, { 'num': 15, 'AE3S': 420, 'update_time': '2019-08-14 15:01:15' }, { 'num': 16, 'AE3S': 153, 'update_time': '2019-08-14 16:01:03' }, { 'num': 17, 'AE3S': 437, 'update_time': '2019-08-14 17:00:29' }, { 'num': 18, 'AE3S': 208, 'update_time': '2019-08-14 18:00:38' }, { 'num': 19, 'AE3S': 121, 'update_time': '2019-08-14 19:01:28' }, { 'num': 20, 'AE3S': 256, 'update_time': '2019-08-14 20:00:21' }, { 'num': 21, 'AE3S': 115, 'update_time': '2019-08-14 21:00:11' }, { 'num': 22, 'AE3S': 326, 'update_time': '2019-08-14 22:00:30' }, { 'num': 23, 'AE3S': 423, 'update_time': '2019-08-14 23:01:20' }, { 'num': 24, 'AE3S': 150, 'update_time': '2019-08-15 00:00:50' }, { 'num': 25, 'AE3S': 307, 'update_time': '2019-08-15 01:01:10' }, { 'num': 26, 'AE3S': 64, 'update_time': '2019-08-15 02:00:30' }, { 'num': 27, 'AE3S': 262, 'update_time': '2019-08-15 03:01:55' }, { 'num': 28, 'AE3S': 296, 'update_time': '2019-08-15 04:00:21' }, { 'num': 29, 'AE3S': 62, 'update_time': '2019-08-15 05:00:00' }, { 'num': 30, 'AE3S': 47, 'update_time': '2019-08-15 06:00:05' }, { 'num': 31, 'AE3S': 448, 'update_time': '2019-08-15 07:01:30' }, { 'num': 32, 'AE3S': 395, 'update_time': '2019-08-15 08:01:58' }, { 'num': 33, 'AE3S': 395, 'update_time': '2019-08-15 09:01:04' }, { 'num': 34, 'AE3S': 93, 'update_time': '2019-08-15 10:00:57' }, { 'num': 35, 'AE3S': 104, 'update_time': '2019-08-15 11:00:28' }, { 'num': 36, 'AE3S': 300, 'update_time': '2019-08-15 12:01:21' }, { 'num': 37, 'AE3S': 414, 'update_time': '2019-08-15 13:00:50' }, { 'num': 38, 'AE3S': 403, 'update_time': '2019-08-15 14:00:49' }, { 'num': 39, 'AE3S': 424, 'update_time': '2019-08-15 15:01:12' }, { 'num': 40, 'AE3S': 177, 'update_time': '2019-08-15 16:01:26' }, { 'num': 41, 'AE3S': 316, 'update_time': '2019-08-15 17:00:41' }, { 'num': 42, 'AE3S': 131, 'update_time': '2019-08-15 18:00:55' }, { 'num': 43, 'AE3S': 187, 'update_time': '2019-08-15 19:01:35' }, { 'num': 44, 'AE3S': 49, 'update_time': '2019-08-15 20:00:31' }, { 'num': 45, 'AE3S': 66, 'update_time': '2019-08-15 21:00:59' }, { 'num': 46, 'AE3S': 112, 'update_time': '2019-08-15 22:00:15' }, { 'num': 47, 'AE3S': 256, 'update_time': '2019-08-15 23:01:22' }, { 'num': 48, 'AE3S': 243, 'update_time': '2019-08-16 00:00:59' }, { 'num': 49, 'AE3S': 126, 'update_time': '2019-08-16 01:00:28' }, { 'num': 50, 'AE3S': 332, 'update_time': '2019-08-16 02:01:29' }, { 'num': 51, 'AE3S': 411, 'update_time': '2019-08-16 03:01:53' }, { 'num': 52, 'AE3S': 440, 'update_time': '2019-08-16 04:01:55' }, { 'num': 53, 'AE3S': 126, 'update_time': '2019-08-16 05:00:33' }, { 'num': 54, 'AE3S': 36, 'update_time': '2019-08-16 06:00:35' }, { 'num': 55, 'AE3S': 176, 'update_time': '2019-08-16 07:01:17' }, { 'num': 56, 'AE3S': 380, 'update_time': '2019-08-16 08:00:09' }, { 'num': 57, 'AE3S': 397, 'update_time': '2019-08-16 09:01:16' }, { 'num': 58, 'AE3S': 431, 'update_time': '2019-08-16 10:01:47' }, { 'num': 59, 'AE3S': 311, 'update_time': '2019-08-16 11:01:55' }, { 'num': 60, 'AE3S': 112, 'update_time': '2019-08-16 12:01:44' }, { 'num': 61, 'AE3S': 112, 'update_time': '2019-08-16 13:01:02' }, { 'num': 62, 'AE3S': 70, 'update_time': '2019-08-16 14:00:13' }, { 'num': 63, 'AE3S': 170, 'update_time': '2019-08-16 15:00:04' }, { 'num': 64, 'AE3S': 184, 'update_time': '2019-08-16 16:00:58' }, { 'num': 65, 'AE3S': 391, 'update_time': '2019-08-16 17:00:10' }, { 'num': 66, 'AE3S': 174, 'update_time': '2019-08-16 18:00:01' }, { 'num': 67, 'AE3S': 405, 'update_time': '2019-08-16 19:00:43' }, { 'num': 68, 'AE3S': 227, 'update_time': '2019-08-16 20:01:32' }, { 'num': 69, 'AE3S': 131, 'update_time': '2019-08-16 21:00:30' }, { 'num': 70, 'AE3S': 395, 'update_time': '2019-08-16 22:01:56' }, { 'num': 71, 'AE3S': 224, 'update_time': '2019-08-16 23:01:34' }, { 'num': 72, 'AE3S': 223, 'update_time': '2019-08-17 00:00:17' }, { 'num': 73, 'AE3S': 418, 'update_time': '2019-08-17 01:01:17' }, { 'num': 74, 'AE3S': 354, 'update_time': '2019-08-17 02:01:17' }, { 'num': 75, 'AE3S': 149, 'update_time': '2019-08-17 03:00:31' }, { 'num': 76, 'AE3S': 95, 'update_time': '2019-08-17 04:00:33' }, { 'num': 77, 'AE3S': 387, 'update_time': '2019-08-17 05:01:04' }, { 'num': 78, 'AE3S': 215, 'update_time': '2019-08-17 06:00:12' }, { 'num': 79, 'AE3S': 234, 'update_time': '2019-08-17 07:01:32' }, { 'num': 80, 'AE3S': 248, 'update_time': '2019-08-17 08:00:49' }, { 'num': 81, 'AE3S': 136, 'update_time': '2019-08-17 09:01:13' }, { 'num': 82, 'AE3S': 422, 'update_time': '2019-08-17 10:01:12' }, { 'num': 83, 'AE3S': 74, 'update_time': '2019-08-17 11:01:23' }, { 'num': 84, 'AE3S': 441, 'update_time': '2019-08-17 12:00:32' }, { 'num': 85, 'AE3S': 392, 'update_time': '2019-08-17 13:01:40' }, { 'num': 86, 'AE3S': 312, 'update_time': '2019-08-17 14:00:29' }, { 'num': 87, 'AE3S': 163, 'update_time': '2019-08-17 15:01:16' }, { 'num': 88, 'AE3S': 440, 'update_time': '2019-08-17 16:00:06' }, { 'num': 89, 'AE3S': 142, 'update_time': '2019-08-17 17:00:22' }, { 'num': 90, 'AE3S': 106, 'update_time': '2019-08-17 18:01:55' }, { 'num': 91, 'AE3S': 118, 'update_time': '2019-08-17 19:01:33' }, { 'num': 92, 'AE3S': 329, 'update_time': '2019-08-17 20:00:54' }, { 'num': 93, 'AE3S': 336, 'update_time': '2019-08-17 21:01:06' }, { 'num': 94, 'AE3S': 371, 'update_time': '2019-08-17 22:01:46' }, { 'num': 95, 'AE3S': 321, 'update_time': '2019-08-17 23:01:44' }, { 'num': 96, 'AE3S': 71, 'update_time': '2019-08-18 00:00:10' }, { 'num': 97, 'AE3S': 191, 'update_time': '2019-08-18 01:01:08' }, { 'num': 98, 'AE3S': 33, 'update_time': '2019-08-18 02:01:19' }, { 'num': 99, 'AE3S': 288, 'update_time': '2019-08-18 03:01:32' }, { 'num': 100, 'AE3S': 247, 'update_time': '2019-08-18 04:01:10' }, { 'num': 101, 'AE3S': 411, 'update_time': '2019-08-18 05:01:57' }, { 'num': 102, 'AE3S': 34, 'update_time': '2019-08-18 06:01:48' }, { 'num': 103, 'AE3S': 187, 'update_time': '2019-08-18 07:01:00' }, { 'num': 104, 'AE3S': 396, 'update_time': '2019-08-18 08:00:34' }, { 'num': 105, 'AE3S': 267, 'update_time': '2019-08-18 09:01:44' }, { 'num': 106, 'AE3S': 327, 'update_time': '2019-08-18 10:01:57' }, { 'num': 107, 'AE3S': 324, 'update_time': '2019-08-18 11:00:11' }, { 'num': 108, 'AE3S': 332, 'update_time': '2019-08-18 12:01:19' }, { 'num': 109, 'AE3S': 23, 'update_time': '2019-08-18 13:01:34' }, { 'num': 110, 'AE3S': 23, 'update_time': '2019-08-18 14:01:26' }, { 'num': 111, 'AE3S': 224, 'update_time': '2019-08-18 15:00:42' }, { 'num': 112, 'AE3S': 105, 'update_time': '2019-08-18 16:01:02' }, { 'num': 113, 'AE3S': 295, 'update_time': '2019-08-18 17:01:20' }, { 'num': 114, 'AE3S': 132, 'update_time': '2019-08-18 18:01:36' }, { 'num': 115, 'AE3S': 149, 'update_time': '2019-08-18 19:01:05' }, { 'num': 116, 'AE3S': 332, 'update_time': '2019-08-18 20:01:37' }, { 'num': 117, 'AE3S': 337, 'update_time': '2019-08-18 21:00:59' }, { 'num': 118, 'AE3S': 54, 'update_time': '2019-08-18 22:00:14' }, { 'num': 119, 'AE3S': 73, 'update_time': '2019-08-18 23:00:10' }, { 'num': 120, 'AE3S': 341, 'update_time': '2019-08-19 00:00:19' }, { 'num': 121, 'AE3S': 268, 'update_time': '2019-08-19 01:01:44' }, { 'num': 122, 'AE3S': 423, 'update_time': '2019-08-19 02:01:51' }, { 'num': 123, 'AE3S': 266, 'update_time': '2019-08-19 03:00:44' }, { 'num': 124, 'AE3S': 412, 'update_time': '2019-08-19 04:01:46' }, { 'num': 125, 'AE3S': 315, 'update_time': '2019-08-19 05:01:48' }, { 'num': 126, 'AE3S': 428, 'update_time': '2019-08-19 06:01:25' }, { 'num': 127, 'AE3S': 385, 'update_time': '2019-08-19 07:00:31' }, { 'num': 128, 'AE3S': 55, 'update_time': '2019-08-19 08:00:39' }, { 'num': 129, 'AE3S': 58, 'update_time': '2019-08-19 09:00:11' }, { 'num': 130, 'AE3S': 437, 'update_time': '2019-08-19 10:01:07' }, { 'num': 131, 'AE3S': 178, 'update_time': '2019-08-19 11:01:44' }, { 'num': 132, 'AE3S': 242, 'update_time': '2019-08-19 12:01:47' }, { 'num': 133, 'AE3S': 416, 'update_time': '2019-08-19 13:01:49' }, { 'num': 134, 'AE3S': 72, 'update_time': '2019-08-19 14:01:52' }, { 'num': 135, 'AE3S': 202, 'update_time': '2019-08-19 15:01:57' }, { 'num': 136, 'AE3S': 179, 'update_time': '2019-08-19 16:01:42' }, { 'num': 137, 'AE3S': 48, 'update_time': '2019-08-19 17:00:42' }, { 'num': 138, 'AE3S': 252, 'update_time': '2019-08-19 18:00:14' }, { 'num': 139, 'AE3S': 215, 'update_time': '2019-08-19 19:00:19' }, { 'num': 140, 'AE3S': 343, 'update_time': '2019-08-19 20:01:02' }, { 'num': 141, 'AE3S': 273, 'update_time': '2019-08-19 21:00:37' }, { 'num': 142, 'AE3S': 219, 'update_time': '2019-08-19 22:00:30' }, { 'num': 143, 'AE3S': 87, 'update_time': '2019-08-19 23:00:09' }, { 'num': 144, 'AE3S': 143, 'update_time': '2019-08-20 00:01:34' }, { 'num': 145, 'AE3S': 154, 'update_time': '2019-08-20 01:01:35' }, { 'num': 146, 'AE3S': 435, 'update_time': '2019-08-20 02:00:54' }, { 'num': 147, 'AE3S': 297, 'update_time': '2019-08-20 03:01:13' }, { 'num': 148, 'AE3S': 143, 'update_time': '2019-08-20 04:01:41' }, { 'num': 149, 'AE3S': 402, 'update_time': '2019-08-20 05:00:32' }, { 'num': 150, 'AE3S': 429, 'update_time': '2019-08-20 06:01:26' }, { 'num': 151, 'AE3S': 118, 'update_time': '2019-08-20 07:00:26' }, { 'num': 152, 'AE3S': 109, 'update_time': '2019-08-20 08:01:14' }, { 'num': 153, 'AE3S': 202, 'update_time': '2019-08-20 09:01:30' }, { 'num': 154, 'AE3S': 203, 'update_time': '2019-08-20 10:00:25' }, { 'num': 155, 'AE3S': 175, 'update_time': '2019-08-20 11:00:45' }, { 'num': 156, 'AE3S': 396, 'update_time': '2019-08-20 12:00:06' }, { 'num': 157, 'AE3S': 391, 'update_time': '2019-08-20 13:01:53' }, { 'num': 158, 'AE3S': 309, 'update_time': '2019-08-20 14:01:47' }, { 'num': 159, 'AE3S': 200, 'update_time': '2019-08-20 15:00:20' }, { 'num': 160, 'AE3S': 290, 'update_time': '2019-08-20 16:01:30' }, { 'num': 161, 'AE3S': 99, 'update_time': '2019-08-20 17:01:18' }, { 'num': 162, 'AE3S': 180, 'update_time': '2019-08-20 18:01:11' }, { 'num': 163, 'AE3S': 32, 'update_time': '2019-08-20 19:01:16' }, { 'num': 164, 'AE3S': 381, 'update_time': '2019-08-20 20:01:45' }, { 'num': 165, 'AE3S': 299, 'update_time': '2019-08-20 21:00:30' }, { 'num': 166, 'AE3S': 410, 'update_time': '2019-08-20 22:01:08' }, { 'num': 167, 'AE3S': 38, 'update_time': '2019-08-20 23:01:07' }, { 'num': 168, 'AE3S': 287, 'update_time': '2019-08-21 00:01:36' }, { 'num': 169, 'AE3S': 350, 'update_time': '2019-08-21 01:01:35' }, { 'num': 170, 'AE3S': 356, 'update_time': '2019-08-21 02:01:32' }, { 'num': 171, 'AE3S': 200, 'update_time': '2019-08-21 03:00:25' }, { 'num': 172, 'AE3S': 146, 'update_time': '2019-08-21 04:00:48' }, { 'num': 173, 'AE3S': 310, 'update_time': '2019-08-21 05:01:40' }, { 'num': 174, 'AE3S': 37, 'update_time': '2019-08-21 06:01:08' }, { 'num': 175, 'AE3S': 389, 'update_time': '2019-08-21 07:00:50' }, { 'num': 176, 'AE3S': 315, 'update_time': '2019-08-21 08:00:57' }, { 'num': 177, 'AE3S': 332, 'update_time': '2019-08-21 09:00:18' }, { 'num': 178, 'AE3S': 384, 'update_time': '2019-08-21 10:01:28' }, { 'num': 179, 'AE3S': 46, 'update_time': '2019-08-21 11:01:00' }, { 'num': 180, 'AE3S': 61, 'update_time': '2019-08-21 12:00:46' }, { 'num': 181, 'AE3S': 119, 'update_time': '2019-08-21 13:00:51' }, { 'num': 182, 'AE3S': 138, 'update_time': '2019-08-21 14:00:24' }, { 'num': 183, 'AE3S': 416, 'update_time': '2019-08-21 15:00:49' }, { 'num': 184, 'AE3S': 207, 'update_time': '2019-08-21 16:01:58' }, { 'num': 185, 'AE3S': 70, 'update_time': '2019-08-21 17:00:21' }, { 'num': 186, 'AE3S': 180, 'update_time': '2019-08-21 18:00:41' }, { 'num': 187, 'AE3S': 362, 'update_time': '2019-08-21 19:01:26' }, { 'num': 188, 'AE3S': 439, 'update_time': '2019-08-21 20:00:23' }, { 'num': 189, 'AE3S': 205, 'update_time': '2019-08-21 21:00:30' }, { 'num': 190, 'AE3S': 66, 'update_time': '2019-08-21 22:01:35' }, { 'num': 191, 'AE3S': 94, 'update_time': '2019-08-21 23:01:05' }, { 'num': 192, 'AE3S': 300, 'update_time': '2019-08-22 00:01:24' }, { 'num': 193, 'AE3S': 292, 'update_time': '2019-08-22 01:00:10' }, { 'num': 194, 'AE3S': 90, 'update_time': '2019-08-22 02:00:34' }, { 'num': 195, 'AE3S': 120, 'update_time': '2019-08-22 03:01:10' }, { 'num': 196, 'AE3S': 251, 'update_time': '2019-08-22 04:00:04' }, { 'num': 197, 'AE3S': 44, 'update_time': '2019-08-22 05:01:33' }, { 'num': 198, 'AE3S': 113, 'update_time': '2019-08-22 06:00:45' }, { 'num': 199, 'AE3S': 130, 'update_time': '2019-08-22 07:00:14' }]"
b=jsonData.replace("'",'"')
a=json.loads(b)
#for i in a:
    #print(i)
client = MongoClient('mongodb://iristest:Passw0rd!iristest@sz-1.xiexingchao.ink:27020/test')
#client = MongoClient('101.132.125.136',27017)
#获取所有的数据库
#dblist=client.list_database_names()
#print(dblist)
db = client['test']
# # #获取所有数据库的集合
# #collections = db.collection_names()
# #print(collections)
# #
data1 = db.slistData6
print(data1)

doc = a
id = data1.insert(doc)
print(id)

# doc = {
#     'author':'liu',
#     'text':'nothing',
#     'tags':['python','mongo']
# }
#成功插入了一个id,并返回了自动生成的id
#id = student.insert(doc)
#print(id)

# new_doc = [
#     {'_id':10,'author':'wang'},
#     {'_id': 100, 'title': 'mongo'},
#
# ]

#id = student.insert(new_doc) #插入
#print(id)

# id=student.delete_one({'author':'wang'})
# print(id)

#a = student.update_one({'title':'mongo'},{'$set':{'title':'python'}})
#print(a)

# c = student.find()
# print(c)
# for i in c:
#     print(i)
